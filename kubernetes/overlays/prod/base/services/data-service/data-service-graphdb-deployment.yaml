---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: data-service-graphdb
spec:
  strategy:
    type: RollingUpdate
  template:
    spec:
      containers:
        - name: data-service-graphdb
          env:
            - name: NEO4J_AUTH
              valueFrom:
                secretKeyRef:
                  name: neo4j-auth
                  key: value
            - name: NEO4J_dbms_memory_pagecache_size
              value: 512M
            - name: PG_HOST
              valueFrom:
                secretKeyRef:
                  name: rds-creds
                  key: url
            - name: PG_USER
              valueFrom:
                secretKeyRef:
                  name: rds-creds
                  key: username
            - name: PG_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: rds-creds
                  key: password
            #- name: SQL_PORT
            - name: PG_PORT
              value: "5432"
            #- name: SQL_DB
            - name: PG_DB
              value: terarium
