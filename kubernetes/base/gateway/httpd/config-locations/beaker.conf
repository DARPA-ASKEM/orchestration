<Location /beaker/>
  ProxyPass ${LOCATION_LLM_URL} timeout=10 retry=0 keepalive=On
  ProxyPassReverse ${LOCATION_LLM_URL}

  AuthType openid-connect
  Require valid-user
</Location>

<Location /beaker_ws/>
  RewriteEngine on
  RewriteCond ${HTTP:Upgrade} websocket [NC]
  RewriteCond ${HTTP:Connection} upgrade [NC]
  RewriteRule .* "${LOCATION_LLM_WS_URL}/$1" [P,L]

  ProxyPass ${LOCATION_LLM_WS_URL} timeout=10 retry=0 keepalive=On
  ProxyPassReverse ${LOCATION_LLM_WS_URL}

  AuthType openid-connect
  Require valid-user
</Location>
