---
# Test workflow to validate shared tag generator

name: Test

on: # yamllint disable-line rule:truthy
  workflow_dispatch:
  pull_request:
    branches: ['main']
  push:
    tags:
      - '*'

jobs:
  # Call the Tag Generator
  tag-generator:
    uses: darpa-askem/.github/.github/workflows/tag-generator.yaml@test

  # Validate the output from the tag generator
  validate-test:
    runs-on: ubuntu-latest
    needs:
      - tag-generator
    steps:
      - run: echo ${{ needs.tag-generator.outputs.tag }}
