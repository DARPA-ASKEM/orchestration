---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: terarium
resources:
  - ../../../base/gateway
  - ../../../base/hmi/client
  - ../../../base/hmi/documentation
  - ../../../base/hmi/server
  - ../../../base/services/data-service
  - ../../../base/services/funman
  - ../../../base/services/beaker
  - ../../../base/services/message-queue
  - ../../../base/services/mit
  - ../../../base/services/model-service
  - ../../../base/services/pyciemss-service
  - ../../../base/services/sciml-service
  - ../../../base/services/skema
  - ../../../base/services/knowledge-middleware
patches:
  - path: gateway/keycloak-admin-deployment.yaml
  - path: gateway/keycloak-admin-ui-deployment.yaml
  - path: gateway/keycloak-deployment.yaml
  - path: gateway/keycloak-service.yaml
  - path: hmi/client/hmi-client-deployment.yaml
  - path: hmi/client/hmi-client-service.yaml
  - path: hmi/documentation/terarium-docs-deployment.yaml
  - path: hmi/server/hmi-server-deployment.yaml
  - path: hmi/server/spicedb-deployment.yaml
  - path: hmi/server/spicedb-service.yaml
  - path: services/data-service/data-service-deployment.yaml
  - path: services/data-service/data-service-graphdb-deployment.yaml
  - path: services/funman/funman-deployment.yaml
  - path: services/funman/funman-service.yaml
  - path: services/beaker/beaker-deployment.yaml
  - path: services/message-queue/message-queue-deployment.yaml
  - path: services/mit/mit-proxy-deployment.yaml
  - path: services/mit/mit-tr-deployment.yaml
  - path: services/model-service/model-service-deployment.yaml
  - path: services/pyciemss-service/pyciemss-api-deployment.yaml
  - path: services/pyciemss-service/pyciemss-worker-deployment.yaml
  - path: services/sciml-service/sciml-service-deployment.yaml
  - path: services/skema/skema-eq2mml-deployment.yaml
  - path: services/skema/skema-mathjax-deployment.yaml
  - path: services/skema/skema-memgraph-deployment.yaml
  - path: services/skema/skema-py-deployment.yaml
  - path: services/skema/skema-rs-deployment.yaml
  - path: services/skema/skema-unified-deployment.yaml
  - path: services/knowledge-middleware/knowledge-middleware-api-deployment.yaml
  - path: services/knowledge-middleware/knowledge-middleware-worker-deployment.yaml

configMapGenerator:
  - files:
      - gateway/keystore/cacerts
    name: keycloak-keystore
  - files:
      - gateway/certificates/cert.pem
      - gateway/certificates/key.pem
    name: keycloak-certificates
